---
import type { GetStaticPaths } from "astro";
export const prerender = true;

import { getCollection } from "astro:content";
import { Slot } from "../../components/main";
import Base from "../../layouts/base.astro";

export const getStaticPaths = (async () => {
	const categories = await getCollection('category');
	return categories.map(category => ({
		params: { category: category.id },
		props: { category: { ...category.data, slug: category.id } }
	}));
}) satisfies GetStaticPaths;

const { category } = Astro.props;
---

<Base title="Lazaro Osee">
	<Slot slot="head">
		<meta name="author" content="Lazaro Osee" />
		<meta 
			name="description" 
			content="The 'Official' Personnal Website and Blog of Lazaro Osee, an Architecture Student and a 'self taught' Software Developer" 
		/>
		<meta 
			name="keywords" 
			content="Lazaro, Osee, Architect, Web, Software, Developer, Blog, Posts" 
		/>
	</Slot>
	<!-- TODO: Implement posts of a category -->
	<pre>{JSON.stringify(category)}</pre>
</Base>